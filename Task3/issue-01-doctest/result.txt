$ python -m doctest -v morse_doctest.py
Trying:
    encode('SOS')
Expecting:
    '... --- ...'
ok
Trying:
    encode('HELLO WORLD')
Expecting:
    '.... . .-.. .-.. ---   .-- --- .-. .-.. -..'
ok
Trying:
    encode('INVALID!')
Expecting:
    Traceback (most recent call last):
    ...
    KeyError: '!'
ok
1 item had no tests:
    morse_doctest
1 item passed all tests:
   3 tests in morse_doctest.encode
3 tests in 2 items.
3 passed.
Test passed.

$ flake8 morse_doctest.py